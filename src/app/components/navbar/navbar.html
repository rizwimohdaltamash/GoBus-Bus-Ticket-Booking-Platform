<nav class="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-xl border-b border-gray-200 shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-3 flex justify-between items-center">
        <!-- Logo -->
        <a [routerLink]="isBusAdmin ? '/bus-admin' : '/home'" class="flex items-center gap-2 group">
            <mat-icon
                class="text-green-600 text-3xl group-hover:scale-110 transition-transform duration-300">directions_bus</mat-icon>
            <span class="text-2xl font-bold text-gradient">GoBus</span>
        </a>

        <!-- Desktop Nav Links -->
        <div class="hidden md:flex items-center gap-1">
            @if (isBusAdmin) {
            <!-- Bus Admin links -->
            <a routerLink="/bus-admin"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">add_circle</mat-icon> Register Bus
            </a>
            <a routerLink="/my-buses"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">directions_bus</mat-icon> My Buses
            </a>
            <a routerLink="/admin-bookings"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">receipt_long</mat-icon> User Bookings
            </a>
            <a routerLink="/profile"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">person</mat-icon> Profile
            </a>
            } @else {
            <!-- User links -->
            <a routerLink="/home"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">home</mat-icon> Home
            </a>
            <a routerLink="/search"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">search</mat-icon> Search
            </a>
            <a routerLink="/booking"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">confirmation_number</mat-icon> Bookings
            </a>
            <a routerLink="/my-bookings"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">receipt_long</mat-icon> My Bookings
            </a>
            <a routerLink="/profile"
                class="px-4 py-2 rounded-lg text-gray-500 hover:text-green-700 hover:bg-green-50 transition-all duration-300 text-sm font-medium flex items-center gap-1.5">
                <mat-icon class="text-base">person</mat-icon> Profile
            </a>
            }
        </div>

        <!-- Right: Logout + Mobile Toggle -->
        <div class="flex items-center gap-2">
            <button (click)="logout()" class="btn-primary !px-5 !py-2 text-sm !hidden md:!inline-flex items-center gap-1.5">
                <mat-icon class="text-base">logout</mat-icon> Logout
            </button>
            <!-- Mobile Menu Button -->
            <button (click)="toggleMobileMenu()" class="md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors">
                <mat-icon class="text-gray-600">{{ mobileMenuOpen ? 'close' : 'menu' }}</mat-icon>
            </button>
        </div>
    </div>

    <!-- Mobile Menu -->
    @if (mobileMenuOpen) {
    <div class="md:hidden bg-white border-t border-gray-100 shadow-lg animate-slide-down">
        <div class="px-4 py-3 space-y-1">
            @if (isBusAdmin) {
            <!-- Bus Admin mobile links -->
            <a routerLink="/bus-admin" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>add_circle</mat-icon> Register Bus
            </a>
            <a routerLink="/my-buses" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>directions_bus</mat-icon> My Buses
            </a>
            <a routerLink="/admin-bookings" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>receipt_long</mat-icon> User Bookings
            </a>
            <a routerLink="/profile" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>person</mat-icon> Profile
            </a>
            } @else {
            <!-- User mobile links -->
            <a routerLink="/home" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>home</mat-icon> Home
            </a>
            <a routerLink="/search" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>search</mat-icon> Search
            </a>
            <a routerLink="/booking" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>confirmation_number</mat-icon> Bookings
            </a>
            <a routerLink="/my-bookings" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>receipt_long</mat-icon> My Bookings
            </a>
            <a routerLink="/profile" (click)="closeMobileMenu()"
                class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:text-green-700 hover:bg-green-50 transition-all text-sm font-medium">
                <mat-icon>person</mat-icon> Profile
            </a>
            }
            <button (click)="logout()"
                class="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-all text-sm font-medium">
                <mat-icon>logout</mat-icon> Logout
            </button>
        </div>
    </div>
    }
</nav>